import{a as Q,b as D}from"./chunk-4CTIVQV3.js";import{b as W,f as G,g as k}from"./chunk-KOFPKAN7.js";import{C as l,N as x,O as u,Q as C,R as w,S as y,T as c,V as F,X as I,Y as M,a as J,da as R,e as K,ea as E,fa as T,na as N,p as h,pa as j,qa as L,t as _}from"./chunk-2W3LPREW.js";import{$a as d,Db as b,Eb as S,Fb as z,Ka as p,La as m,O,P as U,T as V,Y as v,Z as q,cb as Y,fb as t,gb as r,hb as n,mb as g,wb as o}from"./chunk-2GPZ5EYJ.js";import"./chunk-GAL4ENT6.js";var X={headers:new J({"Content-Type":"application/json"})},f=class a{constructor(e){this.http=e}apiUrl=W.apiUrl+"/auth";login(e){return this.http.post(this.apiUrl+"/login",e,X)}regisrter(e){return this.http.post(this.apiUrl+"/register",e,X)}static \u0275fac=function(i){return new(i||a)(V(K))};static \u0275prov=O({token:a,factory:a.\u0275fac,providedIn:"root"})};var H=class a{constructor(e,i,s,P){this.authService=e;this.messageService=i;this.localStorage=s;this.router=P;this.loginForm=new y({email:new c("",u.required),password:new c("",u.required)})}loginForm;onSubmit(){this.authService.login(this.loginForm.value).subscribe({next:e=>{this.localStorage.saveData("email",this.loginForm.get("email").value),this.localStorage.saveData("token",e.token),this.router.navigate(["/spreed"])},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Usuario o contrase\xF1a incorrectos"}),console.log(e)}})}static \u0275fac=function(i){return new(i||a)(m(f),m(l),m(L),m(h))};static \u0275cmp=v({type:a,selectors:[["app-login-screen"]],standalone:!0,features:[b([l]),S],decls:23,vars:2,consts:[[1,"flex","justify-content-center","align-items-center","min-h-screen"],[1,"surface-card","p-4","shadow-2","border-round","w-full","sm:w-8","md:w-6","lg:w-4","xl:w-3","flex","justify-content-center","align-items-center"],[3,"submit","formGroup"],[1,"text-center","mb-5"],["src","icon.svg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium","line-height-3"],["href","auth/register",1,"font-medium","no-underline","ml-2","text-blue-500","cursor-pointer"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","type","text","placeholder","Email address","formControlName","email","pInputText","",1,"w-full","mb-3"],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","type","password","placeholder","Password","formControlName","password","pInputText","",1,"w-full","mb-3"],[1,"flex","align-items-center","justify-content-between","mb-6"],[1,"font-medium","no-underline","ml-2","text-blue-500","text-right","cursor-pointer"],["pButton","","label","Iniciar Sesion",3,"disabled"]],template:function(i,s){i&1&&(n(0,"p-toast"),t(1,"div",0)(2,"div",1)(3,"form",2),g("submit",function(){return s.onSubmit()}),t(4,"div",3),n(5,"img",4),t(6,"div",5),o(7,"Bienvenido de vuelta"),r(),t(8,"span",6),o(9,"No tienes una cuenta?"),r(),t(10,"a",7),o(11,"Creala ahora!"),r()(),t(12,"div")(13,"label",8),o(14,"Email"),r(),n(15,"input",9),t(16,"label",10),o(17,"Password"),r(),n(18,"input",11),t(19,"div",12)(20,"a",13),o(21,"Olvidaste tu contrase\xF1a?"),r()(),n(22,"button",14),r()()()()),i&2&&(p(3),d("formGroup",s.loginForm),p(19),d("disabled",!s.loginForm.valid))},dependencies:[j,N,T,E,k,G,D,R,F,x,C,w,I,M]})};var se=()=>({width:"30rem"}),A=class a{constructor(e,i,s,P){this.authService=e;this.messageService=i;this.localStorage=s;this.router=P;this.registerForm=new y({name:new c("",u.required),email:new c("",u.required),password:new c("",u.required)})}registerForm;onSubmit(){this.authService.regisrter(this.registerForm.value).subscribe({next:e=>{this.messageService.add({severity:"success",summary:"Exito",detail:"Cuenta creada con exito"}),setTimeout(()=>{this.router.navigate(["auth/login"])},2e3)},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"Ocurrio un error al intentar crear la cuenta"}),console.log(e)}})}static \u0275fac=function(i){return new(i||a)(m(f),m(l),m(L),m(h))};static \u0275cmp=v({type:a,selectors:[["app-register-screen"]],standalone:!0,features:[b([l]),S],decls:26,vars:5,consts:[[1,"flex","justify-content-center","align-items-center",2,"height","100vh"],[3,"submit","formGroup"],[1,"text-center","mb-5"],["src","icon.svg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium","line-height-3"],["href","auth/login",1,"font-medium","no-underline","ml-2","text-blue-500","cursor-pointer"],[1,"field"],["for","name"],["id","name","pInputText","","formControlName","name",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","email"],["id","email","pInputText","","formControlName","email",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","password"],["id","password","pInputText","","formControlName","password","type","password",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["pButton","","label","Crear cuenta",3,"disabled"]],template:function(i,s){i&1&&(n(0,"p-toast"),t(1,"div",0)(2,"form",1),g("submit",function(){return s.onSubmit()}),t(3,"p-card")(4,"div",2),n(5,"img",3),t(6,"div",4),o(7,"Crea una cuenta"),r(),t(8,"span",5),o(9,"Ya tienes una cuenta?"),r(),t(10,"a",6),o(11,"Inicia sesion"),r()(),t(12,"div",7)(13,"label",8),o(14,"Usuario"),r(),n(15,"input",9),r(),t(16,"div",7)(17,"label",10),o(18,"Email"),r(),n(19,"input",11),r(),t(20,"div",7)(21,"label",12),o(22,"Contrase\xF1a"),r(),n(23,"input",13),r(),t(24,"div",7),n(25,"button",14),r()()()()),i&2&&(p(2),d("formGroup",s.registerForm),p(),Y(z(4,se)),p(22),d("disabled",!s.registerForm.valid))},dependencies:[j,N,T,E,k,G,D,Q,R,F,x,C,w,I,M]})};var le=[{path:"login",component:H},{path:"register",component:A}],$=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=q({type:a});static \u0275inj=U({imports:[_.forChild(le),_]})};export{$ as UsersRoutingModule};
