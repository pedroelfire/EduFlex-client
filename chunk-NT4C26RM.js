import{a as J,b as D}from"./chunk-FT2HH4DX.js";import{b as K,f as G,g as k}from"./chunk-WZ5BO5RX.js";import{B as l,M as x,N as p,P as C,Q as w,R as y,S as u,U as F,W as I,X as R,a as Y,ca as E,d as z,da as M,ea as T,ma as N,o as h,oa as j,pa as L,s as B}from"./chunk-YYHTGHEG.js";import{$a as d,Db as b,Eb as S,Ka as c,La as m,O as _,P as U,T as V,Y as v,Z as q,fb as e,gb as t,hb as n,mb as g,wb as o}from"./chunk-22NZ5CUR.js";import"./chunk-GAL4ENT6.js";var Q={headers:new Y({"Content-Type":"application/json"})},f=class a{constructor(r){this.http=r}apiUrl=K.apiUrl+"/auth";login(r){return this.http.post(this.apiUrl+"/login",r,Q)}regisrter(r){return this.http.post(this.apiUrl+"/register",r,Q)}static \u0275fac=function(i){return new(i||a)(V(z))};static \u0275prov=_({token:a,factory:a.\u0275fac,providedIn:"root"})};var H=class a{constructor(r,i,s,P){this.authService=r;this.messageService=i;this.localStorage=s;this.router=P;this.loginForm=new y({email:new u("",p.required),password:new u("",p.required)})}loginForm;onSubmit(){this.authService.login(this.loginForm.value).subscribe({next:r=>{this.localStorage.saveData("email",this.loginForm.get("email").value),this.localStorage.saveData("token",r.token),this.router.navigate(["/spreed"])},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Usuario o contrase\xF1a incorrectos"})}})}static \u0275fac=function(i){return new(i||a)(m(f),m(l),m(L),m(h))};static \u0275cmp=v({type:a,selectors:[["app-login-screen"]],standalone:!0,features:[b([l]),S],decls:23,vars:2,consts:[[1,"flex","justify-content-center","align-items-center","min-h-screen"],[1,"surface-card","p-4","shadow-2","border-round","w-full","sm:w-8","md:w-6","lg:w-4","xl:w-3","flex","justify-content-center","align-items-center"],[3,"submit","formGroup"],[1,"text-center","mb-5"],["src","icon.svg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium","line-height-3"],["href","auth/register",1,"font-medium","no-underline","ml-2","text-blue-500","cursor-pointer"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","type","text","placeholder","Email address","formControlName","email","pInputText","",1,"w-full","mb-3"],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","type","password","placeholder","Password","formControlName","password","pInputText","",1,"w-full","mb-3"],[1,"flex","align-items-center","justify-content-between","mb-6"],[1,"font-medium","no-underline","ml-2","text-blue-500","text-right","cursor-pointer"],["pButton","","label","Iniciar Sesion",3,"disabled"]],template:function(i,s){i&1&&(n(0,"p-toast"),e(1,"div",0)(2,"div",1)(3,"form",2),g("submit",function(){return s.onSubmit()}),e(4,"div",3),n(5,"img",4),e(6,"div",5),o(7,"Bienvenido de vuelta"),t(),e(8,"span",6),o(9,"No tienes una cuenta?"),t(),e(10,"a",7),o(11,"Creala ahora!"),t()(),e(12,"div")(13,"label",8),o(14,"Email"),t(),n(15,"input",9),e(16,"label",10),o(17,"Password"),t(),n(18,"input",11),e(19,"div",12)(20,"a",13),o(21,"Olvidaste tu contrase\xF1a?"),t()(),n(22,"button",14),t()()()()),i&2&&(c(3),d("formGroup",s.loginForm),c(19),d("disabled",!s.loginForm.valid))},dependencies:[j,N,T,M,k,G,D,E,F,x,C,w,I,R]})};var A=class a{constructor(r,i,s,P){this.authService=r;this.messageService=i;this.localStorage=s;this.router=P;this.registerForm=new y({name:new u("",p.required),email:new u("",p.required),password:new u("",p.required)})}registerForm;onSubmit(){this.authService.regisrter(this.registerForm.value).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Exito",detail:"Cuenta creada con exito"}),setTimeout(()=>{this.router.navigate(["auth/login"])},2e3)},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Ocurrio un error al intentar crear la cuenta"})}})}static \u0275fac=function(i){return new(i||a)(m(f),m(l),m(L),m(h))};static \u0275cmp=v({type:a,selectors:[["app-register-screen"]],standalone:!0,features:[b([l]),S],decls:26,vars:2,consts:[[1,"flex","justify-content-center","align-items-center","w-full",2,"height","100vh"],[3,"submit","formGroup"],[1,"w-full","sm:min-w-20rem","lg:min-w-50rem"],[1,"text-center","mb-5"],["src","icon.svg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium","line-height-3"],["href","auth/login",1,"font-medium","no-underline","ml-2","text-blue-500","cursor-pointer"],[1,"field"],["for","name"],["id","name","pInputText","","formControlName","name",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","email"],["id","email","pInputText","","formControlName","email",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","password"],["id","password","pInputText","","formControlName","password","type","password",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["pButton","","label","Crear cuenta",3,"disabled"]],template:function(i,s){i&1&&(n(0,"p-toast"),e(1,"div",0)(2,"form",1),g("submit",function(){return s.onSubmit()}),e(3,"p-card",2)(4,"div",3),n(5,"img",4),e(6,"div",5),o(7,"Crea una cuenta"),t(),e(8,"span",6),o(9,"Ya tienes una cuenta?"),t(),e(10,"a",7),o(11,"Inicia sesion"),t()(),e(12,"div",8)(13,"label",9),o(14,"Usuario"),t(),n(15,"input",10),t(),e(16,"div",8)(17,"label",11),o(18,"Email"),t(),n(19,"input",12),t(),e(20,"div",8)(21,"label",13),o(22,"Contrase\xF1a"),t(),n(23,"input",14),t(),e(24,"div",8),n(25,"button",15),t()()()()),i&2&&(c(2),d("formGroup",s.registerForm),c(23),d("disabled",!s.registerForm.valid))},dependencies:[j,N,T,M,k,G,D,J,E,F,x,C,w,I,R]})};var ae=[{path:"login",component:H},{path:"register",component:A}],X=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=q({type:a});static \u0275inj=U({imports:[B.forChild(ae),B]})};export{X as UsersRoutingModule};
