import{a as te,b as Tt,c as Ot}from"./chunk-SCIEU3B4.js";import{a as Et,b as Mt,c as Vt,d as Lt,e as kt,f as be,g as ve}from"./chunk-HVKDPIAJ.js";import{a as De,b as xt,c as Ge,d as bt,e as ze,f as vt,h as wt,i as Y,j as St,k as It,l as ee,q as ye,r as ie,s as xe,t as At}from"./chunk-CCC3JRLM.js";import"./chunk-V77BDGZ6.js";import{e as Ne,f as ne,g as oe}from"./chunk-KOFPKAN7.js";import{C as E,D as at,E as st,H as z,I as Ve,J as pt,K as M,M as ut,N as ct,O as N,Q as de,R as mt,T as j,U as _e,V as dt,W as _t,X as gt,Y as ht,ba as ft,ca as $,da as ge,ea as Ct,fa as he,ha as fe,ia as Ce,ja as Le,ka as yt,la as ke,ma as Fe,na as X,oa as J,pa as Q,t as Me,u as S,v as rt,y as W}from"./chunk-2W3LPREW.js";import{$a as s,Ab as T,Bb as O,Cb as A,Db as Z,Eb as H,Fb as D,Gb as q,Hb as ce,Ib as Xe,Ka as p,La as f,N as He,P as pe,Qa as je,Rb as Je,Ta as le,Va as Qe,Y as V,Ya as g,Z as ue,Zb as Ye,_a as w,ac as y,bb as Ze,bc as U,cb as B,cc as Ee,db as re,ea as d,ec as et,fa as _,fb as r,gb as a,hb as C,ib as K,jb as P,jc as tt,kb as L,la as x,lb as b,ma as Ue,mb as h,nb as u,oa as We,qc as it,rb as $e,rc as nt,sb as R,sc as me,tb as k,tc as ot,ub as F,uc as lt,vb as Ae,wb as m,wc as G,xb as I,yb as ae}from"./chunk-2GPZ5EYJ.js";import{a as qe}from"./chunk-GAL4ENT6.js";var Ut=["container"],Wt=["focusInput"],jt=["multiIn"],Qt=["multiContainer"],Zt=["ddBtn"],$t=["items"],Xt=["scroller"],Jt=["overlay"],Yt=i=>({"p-autocomplete-token":!0,"p-focus":i}),Ft=i=>({$implicit:i}),we=i=>({height:i}),Dt=(i,l)=>({$implicit:i,options:l}),ei=i=>({options:i}),ti=()=>({}),ii=(i,l,e)=>({"p-highlight":i,"p-focus":l,"p-disabled":e}),ni=(i,l)=>({$implicit:i,index:l});function oi(i,l){if(i&1){let e=b();r(0,"input",20,3),h("input",function(n){d(e);let o=u();return _(o.onInput(n))})("keydown",function(n){d(e);let o=u();return _(o.onKeyDown(n))})("change",function(n){d(e);let o=u();return _(o.onInputChange(n))})("focus",function(n){d(e);let o=u();return _(o.onInputFocus(n))})("blur",function(n){d(e);let o=u();return _(o.onInputBlur(n))})("paste",function(n){d(e);let o=u();return _(o.onInputPaste(n))})("keyup",function(n){d(e);let o=u();return _(o.onInputKeyUp(n))}),a()}if(i&2){let e,t=u();re(t.inputStyleClass),s("autofocus",t.autofocus)("ngClass",t.inputClass)("ngStyle",t.inputStyle)("type",t.type)("autocomplete",t.autocomplete)("required",t.required)("name",t.name)("tabindex",t.disabled?-1:t.tabindex)("readonly",t.readonly)("disabled",t.disabled),w("value",t.inputValue())("id",t.inputId)("placeholder",t.placeholder)("size",t.size)("maxlength",t.maxlength)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.id+"_list":null)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function li(i,l){if(i&1){let e=b();r(0,"TimesIcon",23),h("click",function(){d(e);let n=u(2);return _(n.clear())}),a()}i&2&&(s("styleClass","p-autocomplete-clear-icon"),w("aria-hidden",!0))}function ri(i,l){}function ai(i,l){i&1&&g(0,ri,0,0,"ng-template")}function si(i,l){if(i&1){let e=b();r(0,"span",24),h("click",function(){d(e);let n=u(2);return _(n.clear())}),g(1,ai,1,0,null,17),a()}if(i&2){let e=u(2);w("aria-hidden",!0),p(),s("ngTemplateOutlet",e.clearIconTemplate)}}function pi(i,l){if(i&1&&(K(0),g(1,li,1,2,"TimesIcon",21)(2,si,2,2,"span",22),P()),i&2){let e=u();p(),s("ngIf",!e.clearIconTemplate),p(),s("ngIf",e.clearIconTemplate)}}function ui(i,l){i&1&&L(0)}function ci(i,l){if(i&1&&(r(0,"span",35),m(1),a()),i&2){let e=u().$implicit,t=u(2);p(),I(t.getMultipleLabel(e))}}function mi(i,l){i&1&&C(0,"TimesCircleIcon",36),i&2&&(s("styleClass","p-autocomplete-token-icon"),w("aria-hidden",!0))}function di(i,l){}function _i(i,l){i&1&&g(0,di,0,0,"ng-template")}function gi(i,l){if(i&1&&(r(0,"span",37),g(1,_i,1,0,null,17),a()),i&2){let e=u(3);w("aria-hidden",!0),p(),s("ngTemplateOutlet",e.removeIconTemplate)}}function hi(i,l){if(i&1){let e=b();r(0,"li",29,5),g(2,ui,1,0,"ng-container",30)(3,ci,2,1,"span",31),r(4,"span",32),h("click",function(n){let o=d(e).index,c=u(2);return _(c.readonly?"":c.removeOption(n,o))}),g(5,mi,1,2,"TimesCircleIcon",33)(6,gi,2,2,"span",34),a()()}if(i&2){let e=l.$implicit,t=l.index,n=u(2);s("ngClass",q(11,Yt,n.focusedMultipleOptionIndex()===t)),w("id",n.id+"_multiple_option_"+t)("aria-label",n.getOptionLabel(e))("aria-setsize",n.modelValue().length)("aria-posinset",t+1)("aria-selected",!0),p(2),s("ngTemplateOutlet",n.selectedItemTemplate)("ngTemplateOutletContext",q(13,Ft,e)),p(),s("ngIf",!n.selectedItemTemplate),p(2),s("ngIf",!n.removeIconTemplate),p(),s("ngIf",n.removeIconTemplate)}}function fi(i,l){if(i&1){let e=b();r(0,"ul",25,4),h("focus",function(n){d(e);let o=u();return _(o.onMultipleContainerFocus(n))})("blur",function(n){d(e);let o=u();return _(o.onMultipleContainerBlur(n))})("keydown",function(n){d(e);let o=u();return _(o.onMultipleContainerKeyDown(n))}),g(2,hi,7,15,"li",26),r(3,"li",27)(4,"input",28,3),h("input",function(n){d(e);let o=u();return _(o.onInput(n))})("keydown",function(n){d(e);let o=u();return _(o.onKeyDown(n))})("change",function(n){d(e);let o=u();return _(o.onInputChange(n))})("focus",function(n){d(e);let o=u();return _(o.onInputFocus(n))})("blur",function(n){d(e);let o=u();return _(o.onInputBlur(n))})("paste",function(n){d(e);let o=u();return _(o.onInputPaste(n))})("keyup",function(n){d(e);let o=u();return _(o.onInputKeyUp(n))}),a()()()}if(i&2){let e,t=u();s("ngClass",t.multiContainerClass)("tabindex",-1),w("aria-orientation","horizontal")("aria-activedescendant",t.focused?t.focusedMultipleOptionId:void 0),p(2),s("ngForOf",t.modelValue()),p(2),re(t.inputStyleClass),s("autofocus",t.autofocus)("ngClass",t.inputClass)("ngStyle",t.inputStyle)("autocomplete",t.autocomplete)("required",t.required)("tabindex",t.disabled?-1:t.tabindex)("readonly",t.readonly)("disabled",t.disabled),w("type",t.type)("id",t.inputId)("name",t.name)("placeholder",t.filled?null:t.placeholder)("size",t.size)("maxlength",t.maxlength)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.id+"_list":null)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function Ci(i,l){i&1&&C(0,"SpinnerIcon",40),i&2&&(s("styleClass","p-autocomplete-loader")("spin",!0),w("aria-hidden",!0))}function yi(i,l){}function xi(i,l){i&1&&g(0,yi,0,0,"ng-template")}function bi(i,l){if(i&1&&(r(0,"span",41),g(1,xi,1,0,null,17),a()),i&2){let e=u(2);w("aria-hidden",!0),p(),s("ngTemplateOutlet",e.loadingIconTemplate)}}function vi(i,l){if(i&1&&(K(0),g(1,Ci,1,3,"SpinnerIcon",38)(2,bi,2,2,"span",39),P()),i&2){let e=u();p(),s("ngIf",!e.loadingIconTemplate),p(),s("ngIf",e.loadingIconTemplate)}}function wi(i,l){if(i&1&&C(0,"span",44),i&2){let e=u(2);s("ngClass",e.dropdownIcon),w("aria-hidden",!0)}}function Si(i,l){i&1&&C(0,"ChevronDownIcon")}function Ii(i,l){}function Ti(i,l){i&1&&g(0,Ii,0,0,"ng-template")}function Oi(i,l){if(i&1&&(K(0),g(1,Si,1,0,"ChevronDownIcon",12)(2,Ti,1,0,null,17),P()),i&2){let e=u(2);p(),s("ngIf",!e.dropdownIconTemplate),p(),s("ngTemplateOutlet",e.dropdownIconTemplate)}}function Ai(i,l){if(i&1){let e=b();r(0,"button",42,6),h("click",function(n){d(e);let o=u();return _(o.handleDropdownClick(n))}),g(2,wi,1,2,"span",43)(3,Oi,3,2,"ng-container",12),a()}if(i&2){let e=u();s("disabled",e.disabled),w("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex),p(2),s("ngIf",e.dropdownIcon),p(),s("ngIf",!e.dropdownIcon)}}function Ei(i,l){i&1&&L(0)}function Mi(i,l){i&1&&L(0)}function Vi(i,l){if(i&1&&g(0,Mi,1,0,"ng-container",30),i&2){let e=l.$implicit,t=l.options;u(2);let n=Ae(14);s("ngTemplateOutlet",n)("ngTemplateOutletContext",ce(2,Dt,e,t))}}function Li(i,l){i&1&&L(0)}function ki(i,l){if(i&1&&g(0,Li,1,0,"ng-container",30),i&2){let e=l.options,t=u(3);s("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",q(2,ei,e))}}function Fi(i,l){i&1&&(K(0),g(1,ki,1,4,"ng-template",47),P())}function Di(i,l){if(i&1){let e=b();r(0,"p-scroller",45,7),h("onLazyLoad",function(n){d(e);let o=u();return _(o.onLazyLoad.emit(n))}),g(2,Vi,1,5,"ng-template",46)(3,Fi,2,0,"ng-container",12),a()}if(i&2){let e=u();B(q(8,we,e.scrollHeight)),s("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),p(3),s("ngIf",e.loaderTemplate)}}function Gi(i,l){i&1&&L(0)}function zi(i,l){if(i&1&&(K(0),g(1,Gi,1,0,"ng-container",30),P()),i&2){let e=u(),t=Ae(14);p(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",ce(3,Dt,e.visibleOptions(),D(2,ti)))}}function Ni(i,l){if(i&1&&(r(0,"span"),m(1),a()),i&2){let e=u(2).$implicit,t=u(2);p(),I(t.getOptionGroupLabel(e.optionGroup))}}function Bi(i,l){i&1&&L(0)}function Ki(i,l){if(i&1&&(K(0),r(1,"li",51),g(2,Ni,2,1,"span",12)(3,Bi,1,0,"ng-container",30),a(),P()),i&2){let e=u(),t=e.$implicit,n=e.index,o=u().options,c=u();p(),s("ngStyle",q(5,we,o.itemSize+"px")),w("id",c.id+"_"+c.getOptionIndex(n,o)),p(),s("ngIf",!c.groupTemplate),p(),s("ngTemplateOutlet",c.groupTemplate)("ngTemplateOutletContext",q(7,Ft,t.optionGroup))}}function Pi(i,l){if(i&1&&(r(0,"span"),m(1),a()),i&2){let e=u(2).$implicit,t=u(2);p(),I(t.getOptionLabel(e))}}function Ri(i,l){i&1&&L(0)}function qi(i,l){if(i&1){let e=b();K(0),r(1,"li",52),h("click",function(n){d(e);let o=u().$implicit,c=u(2);return _(c.onOptionSelect(n,o))})("mouseenter",function(n){d(e);let o=u().index,c=u().options,v=u();return _(v.onOptionMouseEnter(n,v.getOptionIndex(o,c)))}),g(2,Pi,2,1,"span",12)(3,Ri,1,0,"ng-container",30),a(),P()}if(i&2){let e=u(),t=e.$implicit,n=e.index,o=u().options,c=u();p(),s("ngStyle",q(12,we,o.itemSize+"px"))("ngClass",Xe(14,ii,c.isSelected(t),c.focusedOptionIndex()===c.getOptionIndex(n,o),c.isOptionDisabled(t))),w("id",c.id+"_"+c.getOptionIndex(n,o))("aria-label",c.getOptionLabel(t))("aria-selected",c.isSelected(t))("aria-disabled",c.isOptionDisabled(t))("data-p-focused",c.focusedOptionIndex()===c.getOptionIndex(n,o))("aria-setsize",c.ariaSetSize)("aria-posinset",c.getAriaPosInset(c.getOptionIndex(n,o))),p(),s("ngIf",!c.itemTemplate),p(),s("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",ce(18,ni,t,o.getOptions?o.getOptions(n):n))}}function Hi(i,l){if(i&1&&g(0,Ki,4,9,"ng-container",12)(1,qi,4,21,"ng-container",12),i&2){let e=l.$implicit,t=u(2);s("ngIf",t.isOptionGroup(e)),p(),s("ngIf",!t.isOptionGroup(e))}}function Ui(i,l){if(i&1&&(K(0),m(1),P()),i&2){let e=u(3);p(),ae(" ",e.searchResultMessageText," ")}}function Wi(i,l){i&1&&L(0,null,9)}function ji(i,l){if(i&1&&(r(0,"li",53),g(1,Ui,2,1,"ng-container",54)(2,Wi,2,0,"ng-container",17),a()),i&2){let e=u().options,t=u();s("ngStyle",q(4,we,e.itemSize+"px")),p(),s("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),p(),s("ngTemplateOutlet",t.emptyTemplate)}}function Qi(i,l){if(i&1&&(r(0,"ul",48,8),g(2,Hi,2,2,"ng-template",49)(3,ji,3,6,"li",50),a()),i&2){let e=l.$implicit,t=l.options,n=u();B(t.contentStyle),s("ngClass",t.contentStyleClass),w("id",n.id+"_list")("aria-label",n.listLabel),p(2),s("ngForOf",e),p(),s("ngIf",!e||e&&e.length===0&&n.showEmptyMessage)}}function Zi(i,l){i&1&&L(0)}var $i={provide:ut,useExisting:He(()=>Pe),multi:!0},Pe=(()=>{class i{document;el;renderer;cd;config;overlayService;zone;minLength=1;delay=300;style;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;disabled;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;maxlength;name;required;size;appendTo;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;field;dropdown;showEmptyMessage=!0;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}optionLabel;optionValue;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!1;selectOnFocus;searchLocale;optionDisabled;focusOnHover;variant="outlined";completeMethod=new x;onSelect=new x;onUnselect=new x;onFocus=new x;onBlur=new x;onDropdownClick=new x;onClear=new x;onKeyUp=new x;onShow=new x;onHide=new x;onLazyLoad=new x;containerEL;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;templates;_itemSize;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;value;_suggestions=le(null);onModelChange=()=>{};onModelTouched=()=>{};timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;_filled;get filled(){return this._filled}set filled(e){this._filled=e}loading;scrollHandler;listId;searchTimeout;dirty=!1;modelValue=le(null);focusedMultipleOptionIndex=le(-1);focusedOptionIndex=le(-1);visibleOptions=Ee(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=Ee(()=>{let e=this.modelValue(),t=this.getSelectedOption(e);if(e)if(typeof e=="object"||this.optionValue){let n=this.getOptionLabel(t);return n??e}else return e;else return""});get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get containerClass(){return{"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible}}get multiContainerClass(){return{"p-autocomplete-multiple-container p-component p-inputtext":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get panelClass(){return{"p-autocomplete-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get panelStyles(){return qe({"max-height":this.virtualScroll?"auto":this.scrollHeight},this.panelStyle)}get inputClass(){return{"p-autocomplete-input p-inputtext p-component":!this.multiple,"p-autocomplete-dd-input":this.dropdown,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get searchResultMessageText(){return S.isNotEmpty(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(pt.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled&&!this.loading}constructor(e,t,n,o,c,v,Rt){this.document=e,this.el=t,this.renderer=n,this.cd=o,this.config=c,this.overlayService=v,this.zone=Rt,et(()=>{this.filled=S.isNotEmpty(this.modelValue())})}ngOnInit(){this.id=this.id||rt(),this.cd.detectChanges()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"removetokenicon":this.removeIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}handleSuggestionsChange(){if(this.loading){this._suggestions().length>0||this.showEmptyMessage?this.show():this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((t,n,o)=>{t.push({optionGroup:n,group:!0,index:o});let c=this.getOptionGroupChildren(n);return c&&c.forEach(v=>t.push(v)),t},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return S.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?S.findLastIndex(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?S.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(t=>S.equals(t,this.getOptionValue(e),this.equalityKey())):!1:S.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,t){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===t.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.disabled||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&M.focus(this.inputEL.nativeElement)}handleDropdownClick(e){let t;this.overlayVisible?this.hide(!0):(M.focus(this.inputEL.nativeElement),t=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,t,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:t})}onInput(e){this.searchTimeout&&clearTimeout(this.searchTimeout);let t=e.target.value;this.maxlength!==null&&(t=t.split("").slice(0,this.maxlength).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(t),t.length===0&&!this.multiple&&!this.completeOnFocus?(this.onClear.emit(),this.hide()):t.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,t,"input")},this.delay)):this.hide()}onInputChange(e){if(this.forceSelection){let t=!1;if(this.visibleOptions()){let n=this.visibleOptions().find(o=>this.isOptionMatched(o,this.inputEL.nativeElement.value||""));n!==void 0&&(t=!0,!this.isSelected(n)&&this.onOptionSelect(e,n))}t||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&(this.search(e,e.target.value,"focus"),this.show()),this.dirty=!0,this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.disabled||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault(),e.stopPropagation()}}onArrowLeftKey(e){let t=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(S.isEmpty(t.value)&&this.hasSelectedOption()?(M.focus(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:t}=e,n=t.value.length;t.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:t}=e,n=t.value.length;t.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex()!==-1&&(this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),e.preventDefault()),this.hide()):this.onArrowDownKey(e)}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(S.isNotEmpty(this.modelValue())&&!this.inputEL.nativeElement.value){let t=this.modelValue()[this.modelValue().length-1],n=this.modelValue().slice(0,-1);this.updateModel(n),this.onUnselect.emit({originalEvent:e,value:t})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let t=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(t)}onArrowRightKeyOnMultiple(e){let t=this.focusedMultipleOptionIndex();t++,this.focusedMultipleOptionIndex.set(t),t>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),M.focus(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,t,n=!0){let o=this.getOptionValue(t);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(t)||this.updateModel([...this.modelValue()||[],o])):this.updateModel(o),this.onSelect.emit({originalEvent:e,value:t}),n&&this.hide(!0)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}search(e,t,n){t!=null&&(n==="input"&&t.trim().length<this.minLength||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:t})))}removeOption(e,t){e.stopPropagation();let n=this.modelValue()[t],o=this.modelValue().filter((c,v)=>v!==t).map(c=>this.getOptionValue(c));this.updateModel(o),this.onUnselect.emit({originalEvent:e,value:n}),M.focus(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[t],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),e&&M.focus(this.inputEL.nativeElement),e&&M.focus(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let t=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&M.focus(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};this.virtualScroll&&this.scroller.onScrollChange(event),setTimeout(()=>{t()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}writeValue(e){this.value=e,this.modelValue.set(e),this.updateInputValue(),this.cd.markForCheck()}hasSelectedOption(){return S.isNotEmpty(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}getOptionLabel(e){return this.field||this.optionLabel?S.resolveFieldData(e,this.field||this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?S.resolveFieldData(e,this.optionValue):e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?S.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?S.resolveFieldData(e,this.optionGroupChildren):e.items}getSelectedOption(e){return this.optionValue?(this.suggestions||[]).find(t=>S.resolveFieldData(t,this.optionValue)===e):e}getMultipleLabel(e){let t=this.getSelectedOption(e);return this.getOptionLabel(t)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=M.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=M.findSingle(this.itemsWrapper,".p-autocomplete-item.p-highlight");t&&t.scrollIntoView({block:"nearest",inline:"center"})}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(t){return new(t||i)(f(tt),f(We),f(je),f(Ye),f(st),f(at),f(Ue))};static \u0275cmp=V({type:i,selectors:[["p-autoComplete"]],contentQueries:function(t,n,o){if(t&1&&$e(o,z,4),t&2){let c;k(c=F())&&(n.templates=c)}},viewQuery:function(t,n){if(t&1&&(R(Ut,5),R(Wt,5),R(jt,5),R(Qt,5),R(Zt,5),R($t,5),R(Xt,5),R(Jt,5)),t&2){let o;k(o=F())&&(n.containerEL=o.first),k(o=F())&&(n.inputEL=o.first),k(o=F())&&(n.multiInputEl=o.first),k(o=F())&&(n.multiContainerEL=o.first),k(o=F())&&(n.dropdownButton=o.first),k(o=F())&&(n.itemsViewChild=o.first),k(o=F())&&(n.scroller=o.first),k(o=F())&&(n.overlayViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,n){t&2&&Ze("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused&&!n.disabled||n.autofocus||n.overlayVisible)("p-autocomplete-clearable",n.showClear&&!n.disabled)},inputs:{minLength:[2,"minLength","minLength",U],delay:[2,"delay","delay",U],style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",y],disabled:[2,"disabled","disabled",y],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",y],virtualScroll:[2,"virtualScroll","virtualScroll",y],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",U],virtualScrollOptions:"virtualScrollOptions",maxlength:[2,"maxlength","maxlength",e=>U(e,null)],name:"name",required:[2,"required","required",y],size:[2,"size","size",U],appendTo:"appendTo",autoHighlight:[2,"autoHighlight","autoHighlight",y],forceSelection:[2,"forceSelection","forceSelection",y],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",y],baseZIndex:[2,"baseZIndex","baseZIndex",U],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",y],group:[2,"group","group",y],completeOnFocus:[2,"completeOnFocus","completeOnFocus",y],showClear:[2,"showClear","showClear",y],field:"field",dropdown:[2,"dropdown","dropdown",y],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",y],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",y],tabindex:[2,"tabindex","tabindex",U],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",y],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",y],selectOnFocus:[2,"selectOnFocus","selectOnFocus",y],searchLocale:[2,"searchLocale","searchLocale",y],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",y],variant:"variant"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[Z([$i]),Qe],decls:18,vars:24,consts:[["container",""],["overlay",""],["buildInItems",""],["focusInput",""],["multiContainer",""],["token",""],["ddBtn",""],["scroller",""],["items",""],["empty",""],[3,"click","ngClass","ngStyle"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"autofocus","ngClass","ngStyle","class","type","autocomplete","required","name","tabindex","readonly","disabled","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"ngClass","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","type","autocomplete","required","name","tabindex","readonly","disabled"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],["role","listbox",3,"focus","blur","keydown","ngClass","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-token"],["pAutoFocus","","role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","autocomplete","required","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-autocomplete-item",3,"click","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(t,n){if(t&1){let o=b();r(0,"div",10,0),h("click",function(v){return d(o),_(n.onContainerClick(v))}),g(2,oi,2,23,"input",11)(3,pi,3,2,"ng-container",12)(4,fi,6,27,"ul",13)(5,vi,3,2,"ng-container",12)(6,Ai,4,5,"button",14),r(7,"p-overlay",15,1),A("visibleChange",function(v){return d(o),O(n.overlayVisible,v)||(n.overlayVisible=v),_(v)}),h("onAnimationStart",function(v){return d(o),_(n.onOverlayAnimationStart(v))})("onHide",function(){return d(o),_(n.hide())}),r(9,"div",16),g(10,Ei,1,0,"ng-container",17)(11,Di,4,10,"p-scroller",18)(12,zi,2,6,"ng-container",12)(13,Qi,4,7,"ng-template",null,2,Je)(15,Zi,1,0,"ng-container",17),a(),r(16,"span",19),m(17),a()()()}t&2&&(re(n.styleClass),s("ngClass",n.containerClass)("ngStyle",n.style),p(2),s("ngIf",!n.multiple),p(),s("ngIf",n.isVisibleClearIcon),p(),s("ngIf",n.multiple),p(),s("ngIf",n.loading),p(),s("ngIf",n.dropdown),p(),T("visible",n.overlayVisible),s("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions),p(2),re(n.panelStyleClass),s("ngClass",n.panelClass)("ngStyle",n.panelStyles),p(),s("ngTemplateOutlet",n.headerTemplate),p(),s("ngIf",n.virtualScroll),p(),s("ngIf",!n.virtualScroll),p(3),s("ngTemplateOutlet",n.footerTemplate),p(2),ae(" ",n.selectedMessageText," "))},dependencies:()=>[it,nt,me,lt,ot,xt,z,X,fe,bt,yt,Ne,Fe,Le,De],styles:[`@layer primeng{.p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{width:fit-content;cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{display:flex;cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),Gt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ue({type:i});static \u0275inj=pe({imports:[G,Ge,he,Q,Ve,Ce,ze,ke,Ne,Fe,Le,De,Ge,Ve,ze,ke]})}return i})();var Se=class i{constructor(l){this.alumnsService=l}selectedAlumn=new x;clearAfterSelect=!1;exclutions=[];exclutionsChange=new x;alumn=null;suggestedAlumns=[];filterAlumn(l){this.getSuggestedAlumns(l.query)}getSuggestedAlumns(l=""){console.log(this.exclutions),this.alumnsService.suggestedAlumns(l,this.exclutions).subscribe({next:e=>{this.suggestedAlumns=e}})}onAlumnSelected(l){this.selectedAlumn.emit(l.value),this.clearAfterSelect&&(this.alumn=null)}static \u0275fac=function(e){return new(e||i)(f(xe))};static \u0275cmp=V({type:i,selectors:[["app-search-alumns"]],inputs:{clearAfterSelect:"clearAfterSelect",exclutions:"exclutions"},outputs:{selectedAlumn:"selectedAlumn",exclutionsChange:"exclutionsChange"},standalone:!0,features:[H],decls:1,vars:2,consts:[["placeholder","Busca alumnos","optionLabel","names","optionValue","alumn_id",1,"w-full",3,"ngModelChange","completeMethod","onSelect","ngModel","suggestions"]],template:function(e,t){e&1&&(r(0,"p-autoComplete",0),A("ngModelChange",function(o){return O(t.alumn,o)||(t.alumn=o),o}),h("completeMethod",function(o){return t.filterAlumn(o)})("onSelect",function(o){return t.onAlumnSelected(o)}),a()),e&2&&(T("ngModel",t.alumn),s("suggestions",t.suggestedAlumns))},dependencies:[Gt,Pe,G,$,de,_e]})};var tn=()=>({width:"60rem"}),zt=()=>({standalone:!0});function nn(i,l){i&1&&(r(0,"tr")(1,"th"),m(2,"Nombres"),a(),r(3,"th"),m(4,"Apellidos"),a(),r(5,"th"),m(6,"Acciones"),a()())}function on(i,l){if(i&1){let e=b();r(0,"tr")(1,"td"),m(2),a(),r(3,"td"),m(4),a(),r(5,"td")(6,"p-button",30),h("click",function(){let n=d(e).rowIndex,o=u();return _(o.removeAlumn(n))}),a()()()}if(i&2){let e=l.$implicit;p(2),I(e.names),p(2),I(e.last_names)}}function ln(i,l){i&1&&(r(0,"tr")(1,"td",31),m(2,"Registra los alumnos que formar\xE1n parte de este grupo."),a()())}function rn(i,l){i&1&&(r(0,"tr")(1,"th"),m(2,"Nombre"),a(),r(3,"th"),m(4,"Valor"),a(),r(5,"th"),m(6,"Acciones"),a()())}function an(i,l){if(i&1){let e=b();r(0,"tr")(1,"td"),m(2),a(),r(3,"td"),m(4),a(),r(5,"td")(6,"p-button",30),h("click",function(){let n=d(e).rowIndex,o=u();return _(o.removeCriterion(n))}),a()()()}if(i&2){let e=l.$implicit;p(2),I(e.name),p(2),I(e.value)}}function sn(i,l){if(i&1&&(r(0,"tr")(1,"td",31),m(2),a()()),i&2){let e=u();p(2),ae("Valor total del grupo: ",e.getCriteriaSum()," ")}}function pn(i,l){i&1&&(r(0,"tr")(1,"td",31),m(2,"Registra los criterios de evaluaci\xF3n para este grupo."),a()())}var Ie=class i{constructor(l,e,t){this.groupsService=l;this.fb=e;this.messageService=t;this.groupForm=this.fb.group({name:new j("",[N.required,N.maxLength(50)]),grade:new j("",[N.required,N.maxLength(50)]),alumns:this.fb.array([]),criteria:this.fb.array([])})}successOnCreation=new x;groupForm;alumnList=[];idsAddedAlumns=[];showCreateAlumnDialog=!1;currentStep=0;newCriterionName="";newCriterionValue=0;steps=[{title:"Datos del Grupo",content:"Ingresa el nombre y grado del grupo."},{title:"Alumnos",content:"Asigna los alumnos al grupo."},{title:"Define un criterio",content:"Define el criterio de evauacion para los alumnos. La suma de el valor los criterios tiene que ser de 100"},{title:"Confirmaci\xF3n",content:"Revisa y confirma la creaci\xF3n del grupo."}];goToNextStep(){this.currentStep<this.steps.length-1&&this.currentStep++}onSubmit(){this.groupsService.insertGroup(this.groupForm.value).subscribe({next:l=>{this.messageService.add({severity:"success",summary:"Exito",detail:"Grupo creado exitosamente",life:3e3}),this.showCreateAlumnDialog=!1,this.successOnCreation.emit(!0)}})}goToPreviousStep(){this.currentStep>0&&this.currentStep--}getTransform(){return`translateX(-${100/this.steps.length*this.currentStep}%)`}getCriteriaSum(){return this.groupForm.get("criteria").controls.reduce((e,t)=>e+Number(t.value.value||0),0)}addAlumn(l){this.groupForm.get("alumns").push(this.fb.group({alumn_id:new j(l.alumn_id,[N.required]),names:new j(l.names,[N.required]),last_names:new j(l.last_names,[N.required])})),this.idsAddedAlumns=[...this.idsAddedAlumns,l.alumn_id]}addCriterion(l){this.groupForm.get("criteria").push(this.fb.group({name:new j(l.name,[N.required]),value:new j(l.value,[N.required])})),this.newCriterionName="",this.newCriterionValue=0}removeAlumn(l){let e=this.groupForm.get("alumns"),t=e.at(l).get("alumn_id").value;e.removeAt(l),this.idsAddedAlumns=this.idsAddedAlumns.filter(n=>n!==t)}removeCriterion(l){this.groupForm.get("criteria").removeAt(l)}get alumns(){return this.groupForm.get("alumns")}get criteria(){return this.groupForm.get("criteria")}getAlumnsAsArray(){return this.alumns.value}getCriteriaAsArray(){return this.criteria.value}static \u0275fac=function(e){return new(e||i)(f(te),f(ft),f(E))};static \u0275cmp=V({type:i,selectors:[["app-create-group"]],outputs:{successOnCreation:"successOnCreation"},standalone:!0,features:[H],decls:57,vars:17,consts:[["pButton","","icon","pi pi-plus","label","Crear Grupo",1,"p-button-success","mr-2",3,"click"],[3,"formGroup"],["header","Crear Grupo",3,"visibleChange","modal","visible","closable"],[1,"mt-0"],[1,"field","mb-4"],["for","nombre_grupo"],["id","nombre_grupo","formControlName","name","type","text","pInputText","",1,"w-full"],["for","grado"],["id","grado","formControlName","grade","type","text","pInputText","",1,"w-full"],[1,"mt-4"],["for","alumnos"],["id","alumnos",1,"w-full"],["id","alumnos",3,"selectedAlumn","exclutionsChange","exclutions","clearAfterSelect"],[1,"field"],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"field","mt-2"],["for","crear_alumno"],[1,"formgroup-inline"],["for","criteriaName"],["id","criteriaName",1,"p-inputtext","p-component",3,"ngModelChange","ngModel","ngModelOptions"],["for","criteriaValue"],["id","criteriaValue","type","number",1,"p-inputtext","p-component",3,"ngModelChange","ngModel","ngModelOptions"],["label","Guardar Criterio","icon","pi pi-save",3,"click"],["pTemplate","footer"],[1,"flex","justify-content-end","mt-3"],["type","button","pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-secondary","mr-2",3,"click"],["type","button","pButton","","label","Guardar","icon","pi pi-check",1,"p-button-success",3,"click"],["label","Eliminar","severity","danger",3,"click"],["colspan","3"]],template:function(e,t){e&1&&(C(0,"p-toast"),r(1,"button",0),h("click",function(){return t.showCreateAlumnDialog=!0}),a(),r(2,"form",1)(3,"div")(4,"p-dialog",2),A("visibleChange",function(o){return O(t.showCreateAlumnDialog,o)||(t.showCreateAlumnDialog=o),o}),r(5,"h3",3),m(6,"Nombre y Grado del Grupo"),a(),C(7,"hr"),r(8,"div",4)(9,"label",5),m(10,"Nombre del Grupo"),a(),C(11,"input",6),a(),r(12,"div",4)(13,"label",7),m(14,"Grado"),a(),C(15,"input",8),a(),r(16,"h3",9),m(17,"Agregar Alumnos"),a(),C(18,"hr"),r(19,"div",4)(20,"label",10),m(21,"Buscador de Alumnos"),a(),r(22,"div",11)(23,"app-search-alumns",12),h("selectedAlumn",function(o){return t.addAlumn(o)}),A("exclutionsChange",function(o){return O(t.idsAddedAlumns,o)||(t.idsAddedAlumns=o),o}),a()()(),r(24,"div",13)(25,"p-table",14),g(26,nn,7,0,"ng-template",15)(27,on,7,2,"ng-template",16)(28,ln,3,0,"ng-template",17),a()(),r(29,"div",18)(30,"label",19),m(31,"\xBFFalta alg\xFAn alumno? "),r(32,"strong"),m(33,"Cr\xE9alo"),a()(),C(34,"br")(35,"app-create-alumn"),a(),r(36,"h3",9),m(37,"Crear Criterios"),a(),C(38,"hr"),r(39,"div",20)(40,"div",13)(41,"label",21),m(42,"Nombre del criterio"),a(),r(43,"input",22),A("ngModelChange",function(o){return O(t.newCriterionName,o)||(t.newCriterionName=o),o}),a()(),r(44,"div",13)(45,"label",23),m(46,"Valor"),a(),r(47,"input",24),A("ngModelChange",function(o){return O(t.newCriterionValue,o)||(t.newCriterionValue=o),o}),a()(),r(48,"p-button",25),h("click",function(){return t.addCriterion({name:t.newCriterionName,value:t.newCriterionValue})}),a()(),r(49,"p-table",14),g(50,rn,7,0,"ng-template",15)(51,an,7,2,"ng-template",16)(52,sn,3,1,"ng-template",26)(53,pn,3,0,"ng-template",17),a(),r(54,"div",27)(55,"button",28),h("click",function(){return t.showCreateAlumnDialog=!1}),a(),r(56,"button",29),h("click",function(){return t.onSubmit()}),a()()()()()),e&2&&(p(2),s("formGroup",t.groupForm),p(2),B(D(14,tn)),s("modal",!0),T("visible",t.showCreateAlumnDialog),s("closable",!0),p(19),T("exclutions",t.idsAddedAlumns),s("clearAfterSelect",!0),p(2),s("value",t.getAlumnsAsArray()),p(18),T("ngModel",t.newCriterionName),s("ngModelOptions",D(15,zt)),p(4),T("ngModel",t.newCriterionValue),s("ngModelOptions",D(16,zt)),p(2),s("value",t.getCriteriaAsArray()))},dependencies:[ie,ye,z,Q,X,J,he,Ct,oe,ne,vt,ge,dt,ct,_t,de,mt,gt,ht,ee,Y,G,wt,Se,$,_e,Vt],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem}']})};var cn=()=>({width:"450px"});function mn(i,l){i&1&&(r(0,"tr")(1,"th"),m(2,"Nombres"),a(),r(3,"th"),m(4,"Apellidos"),a(),r(5,"th"),m(6,"Acciones"),a()())}function dn(i,l){if(i&1){let e=b();r(0,"tr")(1,"td"),m(2),a(),r(3,"td"),m(4),a(),r(5,"td")(6,"app-obvservations",7),A("alumnChange",function(n){let o=d(e).rowIndex,c=u(2);return O(c.alumnsInGroup[o],n)||(c.alumnsInGroup[o]=n),_(n)}),a(),r(7,"p-button",8),h("onClick",function(){let n=d(e).$implicit,o=u(2);return _(o.deleteAlumnFormGroup(n.alumn_id))}),a()()()}if(i&2){let e=l.$implicit,t=l.rowIndex,n=u(2);p(2),I(e.names),p(2),I(e.last_names),p(2),T("alumn",n.alumnsInGroup[t]),s("selfSave",!0)}}function _n(i,l){i&1&&(r(0,"tr")(1,"td",9),m(2,"No hay estudiantes inscritos en este grupo"),a()())}function gn(i,l){if(i&1){let e=b();r(0,"p-table",3),h("onLazyLoad",function(n){d(e);let o=u();return _(o.loadTable(n))}),g(1,mn,7,0,"ng-template",4)(2,dn,8,4,"ng-template",5)(3,_n,3,0,"ng-template",6),a()}if(i&2){let e=u();s("value",e.alumnsInGroup)("lazy",!0)}}var Te=class i{constructor(l,e,t,n){this.alumnsService=l;this.confirmationService=e;this.groupsService=t;this.messageService=n}alumnsInGroup=[];alumnsNotInGroup=[];lastEvent={};showDialog=!1;selectedGroupId=0;showDialogChange=new x;loadTable(l){this.lastEvent=l,this.groupsService.alumnsInGroup(this.selectedGroupId).subscribe({next:e=>{console.log(e),this.alumnsInGroup=e},error:e=>console.error("Error fetching alumns:",e)})}deleteAlumnFormGroup(l){this.confirmationService.confirm({message:"Estas seguro de eliminar a los alumnos seleccionados?",header:"Confirmacion",icon:"pi pi-exclamation-triangle",accept:()=>{this.groupsService.deleteAlumnFromGroup(l,this.selectedGroupId).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Exito",detail:"Alumno eliminado del grupo",life:3e3}),this.loadTable(this.lastEvent)}})}})}static \u0275fac=function(e){return new(e||i)(f(xe),f(W),f(te),f(E))};static \u0275cmp=V({type:i,selectors:[["app-manage-alumns-group-dialog"]],inputs:{showDialog:"showDialog",selectedGroupId:"selectedGroupId"},outputs:{showDialogChange:"showDialogChange"},standalone:!0,features:[Z([E,W]),H],decls:5,vars:6,consts:[["header","Alumnos en este grupo",1,"w-full",3,"visibleChange","onHide","visible","modal"],[1,"card"],["class","w-full","responsiveLayout","scroll",3,"value","lazy","onLazyLoad",4,"ngIf"],["responsiveLayout","scroll",1,"w-full",3,"onLazyLoad","value","lazy"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"alumnChange","alumn","selfSave"],["label","Eliminar","severity","danger",1,"ml-2",3,"onClick"],["colspan","3"]],template:function(e,t){e&1&&(C(0,"p-toast"),r(1,"p-dialog",0),A("visibleChange",function(o){return O(t.showDialog,o)||(t.showDialog=o),o}),h("onHide",function(){return t.showDialogChange.emit(!1)}),r(2,"div",1),g(3,gn,4,2,"p-table",2),a()(),C(4,"p-confirmDialog")),e&2&&(p(),T("visible",t.showDialog),s("modal",!0),p(2),s("ngIf",t.showDialog),p(),B(D(5,cn)))},dependencies:[ie,ye,z,G,me,ee,Y,Q,J,At,ve,be,oe,ne]})};var hn=()=>({width:"450px"});function fn(i,l){if(i&1){let e=b();r(0,"app-create-group",9),h("successOnCreation",function(){d(e);let n=u();return _(n.loadTable(n.lastTableEvent))}),a(),r(1,"p-button",10),h("click",function(){d(e);let n=u();return _(n.deleteSelectedGroups())}),a()}if(i&2){let e=u();p(),s("disabled",!e.selectedGroups||!e.selectedGroups.length)}}function Cn(i,l){i&1&&C(0,"p-fileUpload",11)(1,"button",12),i&2&&s("maxFileSize",1e6)}function yn(i,l){i&1&&(r(0,"tr")(1,"th",13),C(2,"p-tableHeaderCheckbox"),a(),r(3,"th"),m(4,"Nombre del grupo"),a(),r(5,"th"),m(6,"Grado"),a(),r(7,"th"),m(8,"Alumnos Inscritos"),a(),r(9,"th"),m(10,"Acciones"),a()())}function xn(i,l){if(i&1){let e=b();r(0,"tr")(1,"td"),C(2,"p-tableCheckbox",14),a(),r(3,"td"),m(4),a(),r(5,"td"),m(6),a(),r(7,"td"),C(8,"p-tag",15),a(),r(9,"td")(10,"p-button",16),h("onClick",function(){let n=d(e).$implicit,o=u();return _(o.showManageAlumnsDialog=o.selectedGroup=n.group_id)}),a()()()}if(i&2){let e=l.$implicit;p(2),s("value",e),p(2),I(e.name),p(2),I(e.grade),p(2),s("value",e.alumn_count)("severity",e.alumn_count===0?"danger":"success")}}function bn(i,l){i&1&&(r(0,"tr")(1,"td",17),m(2,"No cuentas con ningun grupo registrado."),a()())}var Oe=class i{constructor(l,e,t){this.groupsService=l;this.messageService=e;this.confirmationService=t}lastTableEvent={};groups=[];selectedGroups=[];selectedGroup=0;showDeleteDialog=!1;showManageAlumnsDialog=!1;loadTable(l){this.lastTableEvent=l,this.groupsService.getGroups().subscribe({next:e=>{console.log(e),this.groups=e}})}deleteSelectedGroups(){this.confirmationService.confirm({message:"Estas seguro de eliminar a los alumnos seleccionados?",header:"Confirmacion",icon:"pi pi-exclamation-triangle",accept:()=>{this.groups=this.groups.filter(l=>!this.selectedGroups.includes(l)),this.selectedGroups=[],this.messageService.add({severity:"success",summary:"Exito",detail:"Alumnos eliminados de manera satisfactoria",life:3e3})}})}static \u0275fac=function(e){return new(e||i)(f(te),f(E),f(W))};static \u0275cmp=V({type:i,selectors:[["app-groups-list"]],standalone:!0,features:[Z([E,W]),H],decls:11,vars:8,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll",3,"onLazyLoad","selectionChange","value","lazy","selection"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"showDialogChange","showDialog","selectedGroupId"],[3,"successOnCreation"],["label","Eliminar alumnos","severity","danger","icon","pi pi-trash",3,"click","disabled"],["mode","basic","accept","image/*","label","Importar","chooseLabel","Importar",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Exportar","icon","pi pi-file-excel",1,"p-button-help"],[2,"width","4rem"],[3,"value"],[3,"value","severity"],["label","Administrar alumnos",3,"onClick"],["colspan","5"]],template:function(e,t){e&1&&(C(0,"p-toast"),r(1,"div",0)(2,"p-toolbar",1),g(3,fn,2,1,"ng-template",2)(4,Cn,2,1,"ng-template",3),a(),r(5,"p-table",4),h("onLazyLoad",function(o){return t.loadTable(o)}),A("selectionChange",function(o){return O(t.selectedGroups,o)||(t.selectedGroups=o),o}),g(6,yn,11,0,"ng-template",5)(7,xn,11,5,"ng-template",6)(8,bn,3,0,"ng-template",7),a()(),C(9,"p-confirmDialog"),r(10,"app-manage-alumns-group-dialog",8),A("showDialogChange",function(o){return O(t.showManageAlumnsDialog,o)||(t.showManageAlumnsDialog=o),o}),a()),e&2&&(p(5),s("value",t.groups)("lazy",!0),T("selection",t.selectedGroups),p(4),B(D(7,hn)),p(),T("showDialog",t.showManageAlumnsDialog),s("selectedGroupId",t.selectedGroup))},dependencies:[ee,Y,z,St,It,ie,Ce,fe,Q,X,J,oe,ne,Mt,Et,G,$,ge,kt,Lt,ve,be,Ie,Ot,Tt,Te]})};var vn=[{path:"list",component:Oe}],Pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=ue({type:i});static \u0275inj=pe({providers:[E],imports:[Me.forChild(vn),Me]})};export{Pt as GroupsRoutingModule};
